<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Administrator | NotifyBC</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" type="image/x-icon" href="/NotifyBC/version/2-alpha/favicon.ico">
    <meta name="description" content="A versatile notification API server">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/NotifyBC/version/2-alpha/assets/css/0.styles.4b3e69df.css" as="style"><link rel="preload" href="/NotifyBC/version/2-alpha/assets/js/app.9a4a9a9e.js" as="script"><link rel="preload" href="/NotifyBC/version/2-alpha/assets/js/5.77f8ed16.js" as="script"><link rel="preload" href="/NotifyBC/version/2-alpha/assets/js/6.8f4aac3e.js" as="script"><link rel="preload" href="/NotifyBC/version/2-alpha/assets/js/13.e09d5a13.js" as="script"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/1.febaed21.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/10.469d25a7.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/11.94be30fe.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/12.d036ee83.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/14.effb0713.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/15.5d0999a2.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/16.d1059e36.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/17.7946d242.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/18.4730e2ca.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/19.9a7941b1.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/2.03c80ed9.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/20.7bfb982e.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/21.4327a0e9.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/22.b80e968a.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/23.551e0078.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/24.636cba01.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/25.45c7242d.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/26.db50ed2c.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/27.f23d9d3e.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/28.a2de92f7.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/29.8477a412.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/30.73025633.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/31.4c8a459a.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/32.f187f97f.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/33.352cb1c6.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/34.d1b04ede.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/35.00dea817.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/36.e63de91d.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/37.2bd87ca1.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/38.0473dc8c.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/39.0fe47abd.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/40.c47d7fa3.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/41.5bfd345b.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/42.17f65ab4.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/43.88a457ab.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/44.b99e42c5.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/45.8617691b.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/46.19ac4e9d.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/47.8f490837.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/7.d22a6b4f.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/8.86a469c1.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/9.3c9af25d.js"><link rel="prefetch" href="/NotifyBC/version/2-alpha/assets/js/vendors~docsearch.256c21ef.js">
    <link rel="stylesheet" href="/NotifyBC/version/2-alpha/assets/css/0.styles.4b3e69df.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/NotifyBC/version/2-alpha/" class="home-link router-link-active"><img src="/NotifyBC/version/2-alpha/img/logo.svg" alt="NotifyBC" class="logo"></a> <!----> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/NotifyBC/version/2-alpha/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/NotifyBC/version/2-alpha/docs/" class="nav-link router-link-active">
  Docs
</a></div><div class="nav-item"><a href="/NotifyBC/version/2-alpha/help/" class="nav-link">
  Help
</a></div> <a href="https://github.com/bcgov/NotifyBC" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/NotifyBC/version/2-alpha/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/NotifyBC/version/2-alpha/docs/" class="nav-link router-link-active">
  Docs
</a></div><div class="nav-item"><a href="/NotifyBC/version/2-alpha/help/" class="nav-link">
  Help
</a></div> <a href="https://github.com/bcgov/NotifyBC" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Getting Started</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/version/2-alpha/docs/" aria-current="page" class="sidebar-link">Welcome</a></li><li><a href="/NotifyBC/version/2-alpha/docs/overview/" class="sidebar-link">Overview</a></li><li><a href="/NotifyBC/version/2-alpha/docs/quickstart/" class="sidebar-link">Quick Start</a></li><li><a href="/NotifyBC/version/2-alpha/docs/installation/" class="sidebar-link">Installation</a></li><li><a href="/NotifyBC/version/2-alpha/docs/usage/" class="sidebar-link">Basic Usage</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Configuration</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/version/2-alpha/docs/config-overview/" class="sidebar-link">Configuration Overview</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-adminIpList/" class="sidebar-link">Admin IP List</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-reverseProxyIpLists/" class="sidebar-link">Reverse Proxy IP Lists</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-httpHost/" class="sidebar-link">HTTP Host</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-smtp/" class="sidebar-link">SMTP</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-sms/" class="sidebar-link">SMS</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-subscription/" class="sidebar-link">Subscription</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-notification/" class="sidebar-link">Notification</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-database/" class="sidebar-link">Database</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-nodeRoles/" class="sidebar-link">Node Roles</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-cronJobs/" class="sidebar-link">Cron Jobs</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-rsaKeys/" class="sidebar-link">RSA Keys</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-internalHttpHost/" class="sidebar-link">Internal HTTP Host</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-inboundSmtpServer/" class="sidebar-link">Inbound SMTP Server</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-listUnsubscribeByEmail/" class="sidebar-link">List-unsubscribe by Email</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-notificationBounce/" class="sidebar-link">Notification Bounce</a></li><li><a href="/NotifyBC/version/2-alpha/docs/config-workerProcessCount/" class="sidebar-link">Worker Process Count</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>API</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/version/2-alpha/docs/api-overview/" class="sidebar-link">API Overview</a></li><li><a href="/NotifyBC/version/2-alpha/docs/api-subscription/" class="sidebar-link">Subscription</a></li><li><a href="/NotifyBC/version/2-alpha/docs/api-notification/" class="sidebar-link">Notification</a></li><li><a href="/NotifyBC/version/2-alpha/docs/api-config/" class="sidebar-link">Configuration</a></li><li><a href="/NotifyBC/version/2-alpha/docs/api-administrator/" aria-current="page" class="active sidebar-link">Administrator</a></li><li><a href="/NotifyBC/version/2-alpha/docs/api-bounce/" class="sidebar-link">Bounce</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Miscellaneous</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/version/2-alpha/docs/benchmarks/" class="sidebar-link">Benchmarks</a></li><li><a href="/NotifyBC/version/2-alpha/docs/bulk-import/" class="sidebar-link">Bulk Import</a></li><li><a href="/NotifyBC/version/2-alpha/docs/developer-notes/" class="sidebar-link">Developer Notes</a></li><li><a href="/NotifyBC/version/2-alpha/docs/miscellaneous/migration.html" class="sidebar-link">Migration Guide</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Meta</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NotifyBC/version/2-alpha/docs/conduct/" class="sidebar-link">Code of Conduct</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="administrator"><a href="#administrator" class="header-anchor">#</a> Administrator</h1> <p>The administrator API provides knowledge factor based authentication mechanism to identify admin request, as opposed to possession factor based admin ip list. Because knowledge factor based authentication is vulnerable to brute-force attack, administrator API is less favorable than admin ip list. Administrator API should only be used in exceptional circumstances such as when obtaining the client's ip or ip range is infeasible.</p> <div class="custom-block warning"><p class="custom-block-title">Example Use Case</p> <p>Administrator API was created to circumvent an OpenShift limitation - the source ip of a request initiated from an OpenShift pod cannot be exclusively allocated to the pod's project, rather it has to be shared by all OpenShift projects. Therefore it's difficult to impose granular access control based on source ip.</p></div> <p>To enable knowledge factor based authentication, a super-admin manually calls <em>POST /administrators</em> API to create an admin user. Next, the super-admin calls <em>POST /administrators/login</em> API to login the admin user. If both calls are successful, the <em>POST /administrators/login</em> API returns an access token. The super-admin gives the access token to the client, who can make authenticated requests by supplying the access token in either <em>Authorization</em> HTTP header or <em>access_token</em> query parameter.</p> <p>More details on creating access token can be found <a href="http://loopback.io/doc/en/lb3/Introduction-to-User-model-authentication.html" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>. All occurrences of <em>/Users</em> in the referenced doc should be interpreted as <em>/administrators</em>, which is <em>NotifyBC</em>'s user model name.</p> <div class="custom-block tip"><p class="custom-block-title">ProTips™ Increase TTL</p> <p>By default TTL of an access token is set to 14 days by LoopBack. The default time makes sense if users can login themselves. However <i>NotifyBC</i> only allows super-admin to access Administrator API in order to reduce attack window, thus super-admin has to login on behalf of the user to obtain the access token. As a super-admin, you may want to bump up TTL significantly to reduce administrative overhead.</p></div> <p>For details and examples on making authenticated requests, see <a href="http://loopback.io/doc/en/lb3/Making-authenticated-requests.html" target="_blank" rel="noopener noreferrer">here<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/NotifyBC/version/2-alpha/docs/api-config/" class="prev">
        Configuration
      </a></span> <span class="next"><a href="/NotifyBC/version/2-alpha/docs/api-bounce/">
        Bounce
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/NotifyBC/version/2-alpha/assets/js/app.9a4a9a9e.js" defer></script><script src="/NotifyBC/version/2-alpha/assets/js/5.77f8ed16.js" defer></script><script src="/NotifyBC/version/2-alpha/assets/js/6.8f4aac3e.js" defer></script><script src="/NotifyBC/version/2-alpha/assets/js/13.e09d5a13.js" defer></script>
  </body>
</html>
